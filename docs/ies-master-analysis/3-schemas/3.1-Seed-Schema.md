# 3.1 Seed Schema

**Purpose:** Seeds are atomic idea units in IES—the smallest meaningful nugget of thought captured during exploration, reading, or dialogue. They represent raw intellectual material that can grow into structured notes, concepts, or insights.

## What is a Seed?

A seed is:
- **Atomic:** Single, indivisible idea (one thought, one observation, one question)
- **Unprocessed:** Raw capture without forced structure or categorization
- **Ephemeral → Persistent:** Starts as quick capture, can be classified and promoted
- **Growth-oriented:** Designed to evolve from fuzzy → clear → formalized

Seeds live in the `/Seedlings/` folder hierarchy in SiYuan, categorized by 7 idea types.

## Seven Seed/Idea Types

From `.worktrees/siyuan/ies/plugin/src/types/blocks.ts` (lines 45-53):

```typescript
export type IdeaType =
    | 'question'       // Questions worth exploring
    | 'insight'        // "Aha!" moments (raw, unvalidated)
    | 'observation'    // Noticed patterns or facts
    | 'moment'         // Emotionally significant experiences
    | 'schema'         // Mental models or frameworks
    | 'contradiction'  // Tensions or paradoxes
    | 'what_if'        // Hypothetical explorations
    | 'other';         // Uncategorized
```

**Folder Mapping:**

Seeds are automatically routed to subfolders based on type (`SEEDLING_FOLDER_MAP`, lines 262-271):

| Idea Type | Folder Path | Description |
|-----------|-------------|-------------|
| `question` | `Seedlings/Questions` | Questions worth exploring |
| `insight` | `Seedlings/Insights` | Raw "aha" moments (unvalidated) |
| `observation` | `Seedlings/Observations` | Noticed patterns or facts |
| `moment` | `Seedlings/Moments` | Emotionally significant experiences |
| `schema` | `Seedlings/Schemas` | Mental models or frameworks |
| `contradiction` | `Seedlings/Contradictions` | Tensions or paradoxes |
| `what_if` | `Seedlings/What_Ifs` | Hypothetical explorations |
| `other` | `Seedlings` | Root folder (uncategorized) |

**Note:** `Seedlings/Insights` contains RAW "aha" moments. Promoted/validated insights go to `/Insights/` folder.

## Two Status Systems

Seeds use dual status tracking to separate AI processing from user engagement:

### 1. Capture Status (AI Processing State)

From `blocks.ts` line 16:

```typescript
export type CaptureStatus = 'raw' | 'classified' | 'processed';
```

| Status | Meaning | Who Controls |
|--------|---------|--------------|
| `raw` | Just landed in Quick Capture queue | System (on capture) |
| `classified` | AI has added metadata (summary, labels, linked concepts) | AI (automatic) |
| `processed` | User has decided placement (moved to folder, linked to project) | User (manual) |

### 2. User Status (Engagement State)

From `blocks.ts` line 19:

```typescript
export type UserStatus = 'captured' | 'exploring' | 'anchored';
```

| Status | Meaning | Growth Stage |
|--------|---------|--------------|
| `captured` | Exists but unexplored | Seed planted |
| `exploring` | Being actively developed (edited, linked, visited) | Seedling growing |
| `anchored` | Formalized into concept/insight (stable knowledge) | Mature concept |

**Design Rationale:** The dual status prevents AI processing states from interfering with user engagement lifecycle. A seed can be `classified` by AI but still `captured` by user (not yet explored).

## SeedBlockMeta Interface

From `.worktrees/siyuan/ies/plugin/src/types/blocks.ts` (lines 128-141):

```typescript
export interface SeedBlockMeta extends BaseMeta {
    block_type: 'seed';
    idea_type: IdeaType;
    domain?: string;
    source?: 'inbox' | 'dialogue' | 'project' | 'external' | string;
    clarity?: ClarityLevel;      // 'fuzzy' | 'partial' | 'clear'
    confidence?: ConfidenceLevel; // 'low' | 'medium' | 'high'
    related_concepts?: string[];
    related_seedlings?: string[];
    tags?: string[];
    source_capture_id?: string;  // Link back to Quick Capture item
}
```

**Field Descriptions:**

| Field | Type | Purpose | Example |
|-------|------|---------|---------|
| `block_type` | `'seed'` | Identifies this as a seed block | `'seed'` |
| `idea_type` | `IdeaType` | Which of 7 categories this seed belongs to | `'question'`, `'insight'` |
| `domain` | `string?` | Domain context (optional) | `'ADHD'`, `'neuroscience'` |
| `source` | `string?` | Where seed originated | `'inbox'`, `'dialogue'`, `'readest'` |
| `clarity` | `ClarityLevel?` | How clear the idea is | `'fuzzy'`, `'partial'`, `'clear'` |
| `confidence` | `ConfidenceLevel?` | Confidence in the idea | `'low'`, `'medium'`, `'high'` |
| `related_concepts` | `string[]?` | Links to canonical concepts | `['Executive Function', 'Working Memory']` |
| `related_seedlings` | `string[]?` | Links to other seeds | `['seedling_abc123']` |
| `tags` | `string[]?` | User-defined tags | `['adhd', 'shame', 'metabolization']` |
| `source_capture_id` | `string?` | ID of original Quick Capture item | `'capture_xyz789'` |

**Clarity Levels** (`blocks.ts` line 56):
```typescript
export type ClarityLevel = 'fuzzy' | 'partial' | 'clear';
```

**Confidence Levels** (`blocks.ts` line 59):
```typescript
export type ConfidenceLevel = 'low' | 'medium' | 'high';
```

## BaseMeta (Shared Fields)

All block types inherit from `BaseMeta` (`blocks.ts` lines 88-99):

```typescript
export interface BaseMeta {
    block_type?: BlockType;
    be_id?: string | null;              // Backend entity ID
    be_type?: string | null;            // Backend entity type
    resonance_signal?: ResonanceSignal | null;
    energy_level?: EnergyLevel | null;
    exploration_visits?: number;
    status?: UserStatus;
    created_at?: string;
    last_touched_at?: string;
}
```

**ADHD-Friendly Extensions:**

- **`resonance_signal`**: Emotional retrieval cue (8 signals: `spark`, `curiosity`, `delight`, `concern`, `tension`, `dread`, `clarity`, `stuck`)
- **`energy_level`**: Mood-appropriate navigation (`low`, `medium`, `high`)
- **`exploration_visits`**: Recency-based navigation (visit counter)

## How Seeds Grow

**Lifecycle:**

1. **Capture** → Quick Capture creates `CaptureItem` with `capture_status: 'raw'`
2. **Classify** → AI adds metadata: `auto_summary`, `auto_labels`, `linked_concepts` → `capture_status: 'classified'`
3. **Process** → User moves to Seedling folder, sets `idea_type` → `capture_status: 'processed'`, `status: 'captured'`
4. **Explore** → User edits, links, visits → `status: 'exploring'`, `clarity` improves
5. **Anchor** → Seed promoted to `/Insights/` or `/Concepts/` → `status: 'anchored'`

**Growth Metaphor:**
- **Raw Capture** = Seed planted in soil
- **Seedling** = Categorized, initial growth
- **Exploring** = Watering and nurturing
- **Anchored** = Mature plant (formalized knowledge)

## Python Backend Equivalent

**No direct Python equivalent** — Seeds are primarily a SiYuan/frontend concept for personal knowledge organization. Backend uses different schemas:

- **Quick Capture** → `ies/backend/src/ies_backend/schemas/capture.py` (`CaptureItem`)
- **Personal Graph** → ADHD-friendly nodes (`Spark`, `Insight`) in Neo4j via `library/graph/adhd_graph_client.py`
- **Entity Extraction** → `ies/backend/src/ies_backend/schemas/entity.py` (`ExtractedEntity`)

Seeds bridge Quick Capture (backend) → Seedlings (SiYuan) → Concepts (formalized knowledge graph).

## Example Seed (YAML Frontmatter)

```yaml
---
block_type: seed
idea_type: question
domain: ADHD
source: dialogue
clarity: partial
confidence: medium
related_concepts:
  - Executive Function
  - Shame
tags:
  - adhd
  - metabolization
  - question
status: exploring
energy_level: medium
resonance_signal: curiosity
exploration_visits: 3
created_at: "2025-12-05T10:30:00Z"
last_touched_at: "2025-12-05T14:22:00Z"
source_capture_id: capture_abc123
---

## Does shame block executive function access?

Reading Barkley - realized shame might prevent access to EF capacity even when it exists. Need to explore connection between:
- Shame as non-acceptance
- Nervous system configurations
- Working memory availability

Related to metabolization concept - shame prevents processing?
```

## References

**TypeScript Implementation:**
- `.worktrees/siyuan/ies/plugin/src/types/blocks.ts` (lines 45-141, 262-271)
- Defines `IdeaType`, `SeedBlockMeta`, `SEEDLING_FOLDER_MAP`

**SiYuan Structure:**
- `.worktrees/siyuan/ies/plugin/src/utils/siyuan-structure.ts` (lines 53-65)
- Creates Seedlings folder hierarchy with 7 subcategories

**Design Documents:**
- `docs/IES_SiYuan_Architecture/README.md` — Reference architecture for Quick Capture and Seedling system
- `docs/ARCHITECTURE-COMPARISON.md` — Comparison between Architecture Package and current implementation
